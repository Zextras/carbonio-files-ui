# SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>
#
# SPDX-License-Identifier: AGPL-3.0-only

overwrite: true
#watch: true
schema:
  - "<url>":
      headers:
        Cookie: ""
generates:
  src/carbonio-files-ui-common/graphql/schema.graphql:
    plugins:
      - add:
          content: '# THIS FILE IS AUTOGENERATED BY GRAPHQL-CODEGEN. DO NOT EDIT!'
      - schema-ast
  src/carbonio-files-ui-common/types/graphql/types.ts:
    documents:
      - "src/**/*.graphql"
    schema: src/carbonio-files-ui-common/graphql/client-schema.graphql
    plugins:
      - add:
          content:
            - '/* eslint-disable camelcase,no-shadow */'
            - '// THIS FILE IS AUTOGENERATED BY GRAPHQL-CODEGEN. DO NOT EDIT!'
      - typescript
      - typescript-operations
      #- typescript-react-apollo
    config:
      scalars:
        DateTime: number
    hooks:
      afterOneFileWrite:
        - eslint --fix --ext .js,.jsx,.ts,.tsx --resolve-plugins-relative-to node_modules/@zextras/zapp-cli
  src/carbonio-files-ui-common/types/graphql/possible-types.ts:
    documents:
      - "src/**/*.graphql"
    schema: src/carbonio-files-ui-common/graphql/client-schema.graphql
    plugins:
      - add:
          content: '// THIS FILE IS AUTOGENERATED BY GRAPHQL-CODEGEN. DO NOT EDIT!'
      - fragment-matcher
    hooks:
      afterOneFileWrite:
        - eslint --fix --ext .js,.jsx,.ts,.tsx --resolve-plugins-relative-to node_modules/@zextras/zapp-cli
